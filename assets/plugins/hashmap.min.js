!function(t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof module){var e=module.exports=t();e.HashMap=e}else this.HashMap=t()}(function(){function t(t){switch(this.clear(),arguments.length){case 0:break;case 1:"length"in t?n(this,Array.prototype.concat.apply([],t)):this.copy(t);break;default:n(this,arguments)}}var e=t.prototype={constructor:t,get:function(t){var e=this._data[this.hash(t)];return e&&e[1]},set:function(t,e){var n=this.hash(t);n in this._data||this.size++,this._data[n]=[t,e]},multi:function(){n(this,arguments)},copy:function(t){for(var e in t._data)e in this._data||this.size++,this._data[e]=t._data[e]},has:function(t){return this.hash(t)in this._data},search:function(t){for(var e in this._data)if(this._data[e][1]===t)return this._data[e][0];return null},delete:function(t){var e=this.hash(t);e in this._data&&(this.size--,delete this._data[e])},type:function(t){var e=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return t||"domwindow"!==e&&"window"!==e?e:t+""},keys:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),t},count:function(){return this.size},clear:function(){this._data={},this.size=0},clone:function(){return new t(this)},hash:function(e){switch(this.type(e)){case"undefined":case"null":case"boolean":case"number":case"regexp":return e+"";case"date":return"♣"+e.getTime();case"string":return"♠"+e;case"array":for(var n=[],i=0;i<e.length;i++)n[i]=this.hash(e[i]);return"♥"+n.join("⁞");default:return e.hasOwnProperty("_hmuid_")||(e._hmuid_=++t.uid,r=e,a="_hmuid_",Object.defineProperty&&Object.defineProperty(r,a,{enumerable:!1})),"♦"+e._hmuid_}var r,a},forEach:function(t,e){for(var n in this._data){var i=this._data[n];t.call(e||this,i[1],i[0])}}};function n(t,e){for(var n=0;n<e.length;n+=2)t.set(e[n],e[n+1])}return t.uid=0,"undefined"!=typeof Symbol&&void 0!==Symbol.iterator&&(e[Symbol.iterator]=function(){var t=this.entries(),e=0;return{next:function(){if(e===t.length)return{done:!0};var n=t[e++];return{value:{key:n[0],value:n[1]},done:!1}}}}),["set","multi","copy","delete","clear","forEach"].forEach(function(t){var n=e[t];e[t]=function(){return n.apply(this,arguments),this}}),t.prototype.remove=t.prototype.delete,t});